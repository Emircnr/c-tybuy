<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Etkileşimli Dünya Haritası (Örnek)</title>
  <style>
    /* Basit stil ayarları */
    body {
      margin: 0;
      font-family: sans-serif;
      background: #f0f0f0;
    }
    h1 {
      text-align: center;
      margin: 10px;
    }
    #map-container {
      width: 100%;
      height: 80vh;
      background: #fff;
      border: 1px solid #ccc;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
    }
    #info-panel {
      width: 100%;
      height: 20vh;
      background: #fafafa;
      border-top: 1px solid #ccc;
      padding: 10px;
      box-sizing: border-box;
      overflow-y: auto;
    }
    
    /* SVG içindeki ülke şekilleri için stil */
    .country {
      fill: #ccc;
      stroke: #999;
      stroke-width: 1;
      cursor: pointer;
      transition: fill 0.2s;
    }
    .country:hover {
      fill: #aaa;
    }
    
    /* Seçilmiş ülke rengi */
    .country.selected {
      fill: orange;
    }
    
    /* Şehirler için stil */
    .city {
      fill: #ff6347;
      stroke: #b22222;
      stroke-width: 1;
      cursor: pointer;
      display: none; /* Başlangıçta gizli */
      transition: fill 0.2s;
    }
    .city:hover {
      fill: #ff2200;
    }

    /* Şehir seçilince */
    .city.selected {
      fill: yellow;
      stroke: red;
    }
  </style>
</head>
<body>

<h1>Etkileşimli Dünya Haritası (Örnek)</h1>

<div id="map-container">
  <!-- Basitleştirilmiş bir dünya haritası. 
       Burada yalnızca 3 "ülke" örneği (Türkiye, Almanya, Fransa) kullanılıyor. 
       Koordinatlar tamamen temsili olarak yerleştirildi. -->

  <svg id="world-map" viewBox="0 0 800 400" style="width:100%; height:100%;">
    <!-- Ülkeler -->
    <g id="countries-layer">
      <!-- Türkiye (örnek çokgen, gerçek sınır değildir) -->
      <polygon 
        id="country-turkey" 
        class="country"
        data-country="turkey"
        points="300,200 320,180 360,180 380,200 370,220 340,220"
      ></polygon>
      
      <!-- Almanya -->
      <polygon 
        id="country-germany" 
        class="country"
        data-country="germany"
        points="250,100 270,80 310,80 330,100 320,120 290,120"
      ></polygon>
      
      <!-- Fransa -->
      <polygon 
        id="country-france" 
        class="country"
        data-country="france"
        points="200,150 220,130 240,130 260,150 250,170 210,170"
      ></polygon>
    </g>
    
    <!-- Şehirler (her ülkenin şehirleri). 
         Burada da tamamen örnek şehir çokgenleri kullanıyoruz. 
         Başlangıçta hepsi gizlenmiş durumda (CSS: display:none). 
         Ülkeye tıklanınca ilgili şehirler gösterilecek. 
    -->
    <g id="cities-layer">
      <!-- Türkiye'nin şehirleri -->
      <polygon 
        id="city-istanbul" 
        class="city" 
        data-country="turkey"
        data-city="İstanbul"
        points="310,190 315,185 320,190 315,195"
      ></polygon>
      <polygon 
        id="city-ankara" 
        class="city" 
        data-country="turkey"
        data-city="Ankara"
        points="350,190 355,185 360,190 355,195"
      ></polygon>
      
      <!-- Almanya'nın şehirleri -->
      <polygon
        id="city-berlin"
        class="city"
        data-country="germany"
        data-city="Berlin"
        points="280,90 285,85 290,90 285,95"
      ></polygon>
      <polygon
        id="city-hamburg"
        class="city"
        data-country="germany"
        data-city="Hamburg"
        points="300,90 305,85 310,90 305,95"
      ></polygon>
      
      <!-- Fransa'nın şehirleri -->
      <polygon
        id="city-paris"
        class="city"
        data-country="france"
        data-city="Paris"
        points="220,140 225,135 230,140 225,145"
      ></polygon>
      <polygon
        id="city-lyon"
        class="city"
        data-country="france"
        data-city="Lyon"
        points="240,140 245,135 250,140 245,145"
      ></polygon>
    </g>
  </svg>
</div>

<div id="info-panel">
  <p>Bir ülkeye tıklayınca şehirler görünecektir. Şehre tıklayınca da burada detay görebilirsiniz.</p>
</div>

<script>
  // Haritaya tıklanınca çalışan mantığı kuruyoruz
  const countries = document.querySelectorAll('.country');
  const cities = document.querySelectorAll('.city');
  const infoPanel = document.getElementById('info-panel');

  // Seçilen ülkeyi saklayacak değişken
  let selectedCountry = null;

  countries.forEach(country => {
    country.addEventListener('click', function() {
      // Önce tüm ülkelerdeki "selected" durumunu kaldır
      countries.forEach(c => c.classList.remove('selected'));

      // Bu ülkeyi seçilmiş yap
      this.classList.add('selected');
      selectedCountry = this.dataset.country;

      // Şehirleri güncelle
      showCitiesForCountry(selectedCountry);

      // Info paneli güncelle
      infoPanel.innerHTML = `
        <h3>Seçilen Ülke: ${this.dataset.country.toUpperCase()}</h3>
        <p>Şehirlerden birine tıklayınız...</p>
      `;
    });
  });

  cities.forEach(city => {
    city.addEventListener('click', function(evt) {
      // Şehri seçilmiş hale getir
      cities.forEach(ci => ci.classList.remove('selected'));
      this.classList.add('selected');

      // Info paneli güncelle
      const cityName = this.getAttribute('data-city');
      infoPanel.innerHTML = `
        <h3>Seçilen Ülke: ${selectedCountry.toUpperCase()}</h3>
        <p>Şehir: <strong>${cityName}</strong></p>
      `;
      // Tıklamayı durdurup ülke seçimini değiştirmesin diye
      evt.stopPropagation();
    });
  });

  // Bir ülke seçildiğinde, sadece o ülkenin şehirlerini gösteren fonksiyon
  function showCitiesForCountry(countryName) {
    cities.forEach(city => {
      if (city.dataset.country === countryName) {
        city.style.display = 'inline'; // Göster
      } else {
        city.style.display = 'none';   // Gizle
      }
    });
  }
</script>

</body>
</html>
